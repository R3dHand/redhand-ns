<!-- <app-browser></app-browser> -->
<div class="query-form-container">
    <form [formGroup]="queryForm" class="query-form">
        <app-search formControlName="query"
                    (keydownEnter)="search()"
                    (toggleSearchFilter)="showSearchCriteria = !showSearchCriteria"
                    [hasFilterOptions]="true">
        </app-search>
    </form>
</div>

<div class="results-filters-container">
    <div class="search-results-container">
        <app-search-results></app-search-results>
    </div>

    @if (showSearchCriteria) {
        <div class="side-sheet">
            <div class="header">
                <span>Filters</span>
                <span (click)="showSearchCriteria = !showSearchCriteria">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                </span>
            </div>
            <form [formGroup]="searchCriteriaForm" class="filters-form">
                <div>
                    <app-input-text formControlName="brandOwner"
                                    [title]="'Brand Owner'"
                                    [placeholder]="'Brand Owner'"
                                    [label]="'Brand Owner'"
                                    [id]="'brandOwner'">
                    </app-input-text>
                </div>

                <div>
                    <app-single-select-menu [options]="sortOrder.options"
                                            [title]="'Sort Order'"
                                            [placeholder]="'Sort Order'"
                                            [label]="'Sort Order'"
                                            [id]="'sortOrder'"
                                            formControlName="selectedSortOrder">
                    </app-single-select-menu>
                </div>

                <div>
                    <app-single-select-menu [options]="sortBy.options"
                                            [title]="'Sort By'"
                                            [placeholder]="'Sort By'"
                                            [label]="'Sort By'"
                                            [id]="'sortBy'"
                                            formControlName="selectedSortBy">
                    </app-single-select-menu>
                </div>

                <div>
                    <app-multi-select-menu [options]="dataTypes.options"
                                           [title]="'Data Types'"
                                           [placeholder]="'Data Types'"
                                           [label]="'Data Types'"
                                           [id]="'dataTypes'"
                                           formControlName="selectedDataTypes">
                    </app-multi-select-menu>
                </div>

                <div>
                    <app-multi-select-menu [options]="tradeChannels.options"
                                           [title]="'Trade Channels'"
                                           [placeholder]="'Trade Channels'"
                                           [label]="'Trade Channels'"
                                           [id]="'tradeChannels'"
                                           formControlName="selectedTradeChannels">
                    </app-multi-select-menu>
                </div>
            </form>
            <div class="footer">
                <div class="button-small-icon"  (click)="search()">
                    <div style="padding: 0;">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>
                    </div>
                    <input type="button"
                           value="Search"
                           title="search" />
                </div>
            </div>
        </div>
    }
</div>
